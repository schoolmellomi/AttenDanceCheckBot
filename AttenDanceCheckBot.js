constâ€‹ â€‹scriptNameâ€‹ â€‹=â€‹ â€‹"Attendance"â€‹; 

//Made by Masimellomi
//ì´ ì†ŒìŠ¤ëŠ” GPL 3.0 ë¼ì´ì„¼ìŠ¤ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ë¬´ë‹¨ ë³µì œ ë° 2ì°¨ ìœ í¬ë¥¼ ê¸ˆí•©ë‹ˆë‹¤.
//ì•„ë˜ ì†ŒìŠ¤ëŠ” íŒŒì¼ ìŠ¤íŠ¸ë¦¼ì„ ê¸°ë°˜ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. 1ì£¼ì¼ ê²½ê³¼ì‹œ íŒŒì¼ì´ ë§ì´ ìƒì„±ë˜ê¸°ì— í´ë”ë¥¼ ì°¾ì•„ ì¼ì£¼ì¼ì— í•œë²ˆì”© ì§€ìš°ëŠ”ê±¸ ì¶”ì²œí•©ë‹ˆë‹¤.
//ì´ ì†ŒìŠ¤ëŠ” ë©”ì‹ ì €ë´‡Rì—ì„œ ì •ìƒì‘ë™í•©ë‹ˆë‹¤. ì±„íŒ… ìë™ ì‘ë‹µë´‡ì€ í…ŒìŠ¤íŠ¸ í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
//ìœ„ ì•ˆë‚´ë¬¸ì„ ì‚­ì œí•˜ì§€ ë§ˆì„¸ìš”. 

const Lw = 'â€‹'.repeat(500); 
functionâ€‹ â€‹responseâ€‹(â€‹roomâ€‹,â€‹ â€‹msgâ€‹,â€‹ â€‹senderâ€‹,â€‹ â€‹isGroupChatâ€‹,â€‹ â€‹replierâ€‹,â€‹ â€‹imageDBâ€‹,â€‹ â€‹packageNameâ€‹)â€‹ â€‹{ 
  constâ€‹ â€‹Mybotnameâ€‹ â€‹=â€‹ â€‹"ë§ˆì‹œë©œë¡œë´‡"â€‹; â€‹//ë³¸ì¸ ë´‡ ì´ë¦„ì…ë‹ˆë‹¤. ë°ì´í„° ì €ì¥ì‹œ ë³¸ì¸ ë´‡ ì´ë¦„ìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤. 
  â€‹constâ€‹ â€‹dâ€‹ â€‹=â€‹ â€‹newâ€‹ â€‹Dateâ€‹(â€‹)â€‹; 
  var NowTime1 = d.getFullYear() + 'ë…„ ' + (d.getMonth() + 1) + 'ì›” ' + d.getDate() + 'ì¼ ' + d.getHours() + 'ì‹œ ' + d.getMinutes() + 'ë¶„ ';
  var NowTi1me = d.getFullYear() + 'ë…„ ' + (d.getMonth() + 1) + 'ì›” ' + d.getDate() + 'ì¼ ' + d.getHours() + 'ì‹œ ' + d.getMinutes() + 'ë¶„ ' + d.getSeconds() + 'ì´ˆ ';
  constâ€‹ â€‹NowTime â€‹=â€‹ â€‹dâ€‹.â€‹getFullYearâ€‹(â€‹)â€‹ â€‹+â€‹ â€‹'ë…„ 'â€‹ â€‹+â€‹ â€‹(â€‹dâ€‹.â€‹getMonthâ€‹(â€‹)â€‹ â€‹+â€‹ â€‹1â€‹)â€‹ â€‹+â€‹ â€‹'ì›” 'â€‹ â€‹+â€‹ â€‹dâ€‹.â€‹getDateâ€‹(â€‹)â€‹ â€‹+â€‹ â€‹'ì¼ 'â€‹; 
  â€‹constâ€‹ â€‹prefixâ€‹ â€‹=â€‹ â€‹"!"â€‹;â€‹ â€‹//ì ‘ë‘ì‚¬, ì¦‰ ì•ì— ë¶™ëŠ” ê¸°í˜¸ì…ë‹ˆë‹¤. í•„ìš” ì—†ìœ¼ì‹œë©´ ""ë¡œ ì²˜ë¦¬í•˜ì…”ë„ ë©ë‹ˆë‹¤.
  â€‹constâ€‹ â€‹FSâ€‹ â€‹=â€‹ â€‹FileStreamâ€‹; 
  const Email = "routu7017@naver.com";
 â€‹   
 â€‹//ë©”ì¸ì†ŒìŠ¤ ( ì½”ë”© ë° ìë°”ìŠ¤í¬ë¦½íŠ¸ ê´€ë ¨ ê²½í—˜ ë° ìˆ™ë ¨ë„ê°€ ì—†ìœ¼ì‹œë©´ ê±´ë“¤ì§€ ë§ˆì„¸ìš”. 
  ifâ€‹ â€‹(â€‹msgâ€‹ â€‹==â€‹ â€‹prefixâ€‹ â€‹+â€‹ â€‹"ì¶œì„"â€‹ â€‹||â€‹ â€‹msgâ€‹ â€‹==â€‹ â€‹prefixâ€‹ â€‹+â€‹ â€‹"ã…Šã…Š"â€‹)â€‹ â€‹{ 
 â€‹    â€‹varâ€‹ â€‹sendercheckâ€‹ â€‹=â€‹ â€‹FSâ€‹.â€‹readâ€‹(â€‹"/sdcard/ì¶œì„ ìœ ì €/"â€‹ â€‹+â€‹ â€‹roomâ€‹ â€‹+â€‹"/"â€‹ â€‹+â€‹ â€‹NowTimeâ€‹ â€‹+â€‹ â€‹senderâ€‹ â€‹+â€‹".txt"â€‹)â€‹; 
  
    ifâ€‹(â€‹sendercheckâ€‹ â€‹==â€‹ â€‹nullâ€‹)â€‹{ 
 â€‹   
      FSâ€‹.â€‹appendâ€‹(â€‹"sdcard/" + Mybotname +  "ì˜ ì¶œì„/"â€‹ â€‹+â€‹ â€‹NowTimeâ€‹ â€‹+â€‹ â€‹"ì¼ì ì¶œì„ëª©ë¡"â€‹,â€‹"\n\nğ‘¨ğ’•ğ’•ğ’†ğ’ğ’…ğ’‚ğ’ğ’„ğ’† ğ‘ªğ’ğ’ğ’‘ğ’ğ’†ğ’•ğ’†.\nğ‘ºğ’†ğ’ğ’…ğ’†ğ’“ : " + senderâ€‹ â€‹+â€‹ "\nğ‘¹ğ’ğ’ğ’ : " + room + â€‹"\nğ‘¨ğ’•ğ’•ğ’†ğ’ğ’…ğ’‚ğ’ğ’„ğ’† ğ‘»ğ’Šğ’ğ’† : "â€‹ +NowTimeâ€‹ â€‹+â€‹ â€‹"\n______________________________________\n\n"â€‹);

      FSâ€‹.â€‹appendâ€‹(â€‹"sdcard/"+ Mybotname + "ì˜ ì¶œì„/"â€‹ â€‹+â€‹ â€‹NowTimeâ€‹ â€‹+â€‹ â€‹"ì¼ì ì¶œì„ëª©ë¡"â€‹ + room,â€‹"\n\nğ‘¨ğ’•ğ’•ğ’†ğ’ğ’…ğ’‚ğ’ğ’„ğ’† ğ‘ªğ’ğ’ğ’‘ğ’ğ’†ğ’•ğ’†.\nğ‘ºğ’†ğ’ğ’…ğ’†ğ’“ : " + senderâ€‹ â€‹+â€‹ â€‹"\nğ‘¨ğ’•ğ’•ğ’†ğ’ğ’…ğ’‚ğ’ğ’„ğ’† ğ‘»ğ’Šğ’ğ’† : "â€‹ â€‹+â€‹ â€‹NowTime â€‹+â€‹ â€‹"\n______________________________________\n\n"â€‹); 
 
      â€‹FSâ€‹.â€‹appendâ€‹(â€‹"/sdcard/" + Mybotname + "ì˜ ì¶œì„/"â€‹ â€‹+â€‹ â€‹NowTimeâ€‹ â€‹+â€‹ â€‹"ì¼ì ì „ì²´ìˆœìœ„.txt"â€‹,â€‹ â€‹"1"â€‹)â€‹; 
  
      FSâ€‹.â€‹appendâ€‹(â€‹"/sdcard/" + Mybotname + "ì˜ ì¶œì„/"â€‹ â€‹+â€‹ â€‹roomâ€‹ â€‹+â€‹ â€‹"/"â€‹ â€‹+â€‹ â€‹NowTimeâ€‹ â€‹+â€‹ â€‹"/"â€‹ â€‹+â€‹ â€‹"ì¼ì ìˆœìœ„.txt"â€‹,â€‹ â€‹"1"â€‹)â€‹; 
  
      varâ€‹ â€‹read1â€‹ â€‹=â€‹ â€‹FSâ€‹.â€‹readâ€‹(â€‹"/sdcard/" + Mybotname + "ì˜ ì¶œì„/"â€‹ â€‹+â€‹ â€‹roomâ€‹ â€‹+â€‹ â€‹"/"â€‹ â€‹+â€‹ â€‹NowTimeâ€‹ â€‹+â€‹ â€‹"/"â€‹ â€‹+â€‹ â€‹"ì¼ì ìˆœìœ„.txt"â€‹)â€‹.â€‹lengthâ€‹; 
  
      varâ€‹ â€‹read2â€‹ â€‹=â€‹ â€‹FSâ€‹.â€‹readâ€‹(â€‹"/sdcard/" + Mybotname + "ì˜ ì¶œì„/"â€‹ â€‹+â€‹ â€‹NowTimeâ€‹ â€‹+â€‹ â€‹"ì¼ì ì „ì²´ìˆœìœ„.txt"â€‹)â€‹.â€‹lengthâ€‹; 
  
      â€‹FSâ€‹.â€‹writeâ€‹(â€‹"/sdcard/ì¶œì„ ìœ ì €/"â€‹ â€‹+â€‹ â€‹roomâ€‹ â€‹+â€‹"/"â€‹ â€‹+â€‹ â€‹NowTimeâ€‹ â€‹+â€‹ â€‹senderâ€‹ â€‹+â€‹".txt"â€‹,â€‹"ëŒ€ì¶©ì“¸ë°ì—†ëŠ”í…ìŠ¤íŠ¸"â€‹)â€‹; 
        if(FS.read("/sdcard/" + Mybotname + "ì˜ ì¶œì„/"â€‹ â€‹+â€‹ â€‹NowTimeâ€‹ â€‹+â€‹ â€‹"ì¼ì ì „ì²´ìˆœìœ„.txt")=="1"){
          const Attendance3 = FS.read("/sdcard/" + Mybotname + "ì˜ ì¶œì„/ì—°ì†1ë“±ì¶œì„ì1" + sender + ".txt");
            if(FS.read("/sdcard/" + Mybotname + "ì˜ ì¶œì„ì²´í¬/ì—°ì†1ë“±ì¶œì„ì" + sender + ".txt")=="ì¶œì¶œì¶œì¶œì¶œì¶œ"){
              replierâ€‹.â€‹replyâ€‹(â€‹NowTimeâ€‹ â€‹+â€‹ â€‹"\n"â€‹+â€‹senderâ€‹ â€‹+â€‹"ë‹˜ ì¶œì„ì²´í¬ë¥¼ ì™„ë£Œí•˜ì˜€ìŠµë‹ˆë‹¤. âœ…\nğŸ”° ì „ì²´ ìˆœìœ„ëŠ” "â€‹+â€‹ â€‹read2â€‹ â€‹+â€‹ â€‹"ë“±\nğŸ”° ë°© ìˆœìœ„ëŠ” "â€‹ â€‹+â€‹ â€‹read1â€‹ â€‹+â€‹ â€‹"ë“±ì…ë‹ˆë‹¤."â€‹)â€‹;
              replier.reply(NowTime + "ì¼ì ì „ì²´ ìˆœìœ„ 1ë“±! ì¶•í•˜ë“œë¦½ë‹ˆë‹¤. ğŸ¥‡ğŸ¥‡");
              FS.remove("/sdcard/" + Mybotname + "ì˜ ì¶œì„ì²´í¬/ì—°ì†1ë“±ì¶œì„ì" + sender + ".txt");
              FS.remove("/sdcard/" + Mybotname + "ì˜ ì¶œì„/ì—°ì†1ë“±ì¶œì„ì1" + sender + ".txt");
              replier.reply("1ì£¼ì¼ ì—°ì†ìœ¼ë¡œ ì „ì²´ 1ìœ„ë¥¼ ë‹¬ì„±í•˜ì…¨ì–´ìš”! ì¶•í•˜ë“œë ¤ìš”! \nì´ ë©”ì‹œì§€ì™€ 1ë“± ì—°ì† ì¶œì„ì„ ì¸ì¦í•  ìˆ˜ ìˆëŠ” ë©”ì‹œì§€ë¥¼\n " + Email + "ìœ¼ë¡œ ë³´ë‚´ì£¼ì„¸ìš”!\ní™•ì¸ ì—¬ë¶€ë¥¼ í†µí•´ ê°œë°œìë‹˜ê»˜ì„œ ì†Œì •ì˜ ìƒí’ˆì„ ì§€ê¸‰í•©ë‹ˆë‹¤!");
                }else if(FS.read("/sdcard/" + Mybotname + "ì˜ ì¶œì„/"â€‹ â€‹+â€‹ â€‹NowTimeâ€‹ â€‹+â€‹ â€‹"ì¼ì ì „ì²´ìˆœìœ„.txt")=="1"){
                  FS.append("/sdcard/" + Mybotname + "ì˜ ì¶œì„/ì—°ì†1ë“±ì¶œì„ì1" + sender + ".txt","âœ… ");
                    var memo = "ì¶œ";
                    FS.append("/sdcard/" + Mybotname + "ì˜ ì¶œì„ì²´í¬/ì—°ì†1ë“±ì¶œì„ì" + sender + ".txt", memo);
                    const Attendance13 = FS.read("/sdcard/" + Mybotname + "ì˜ ì¶œì„/ì—°ì†1ë“±ì¶œì„ì1" + sender + ".txt");
                    replierâ€‹.â€‹replyâ€‹(â€‹NowTimeâ€‹ â€‹+â€‹ â€‹"\n"â€‹+â€‹senderâ€‹ â€‹+â€‹"ë‹˜ ì¶œì„ì²´í¬ë¥¼ ì™„ë£Œí•˜ì˜€ìŠµë‹ˆë‹¤. âœ…\nğŸ”° ì „ì²´ ìˆœìœ„ëŠ” "â€‹+â€‹ â€‹read2â€‹ â€‹+â€‹ â€‹"ë“±\nğŸ”° ë°© ìˆœìœ„ëŠ” "â€‹ â€‹+â€‹ â€‹read1â€‹ â€‹+â€‹ â€‹"ë“±ì…ë‹ˆë‹¤.\n\nì—°ì† ì¶œì„ ì—¬ë¶€ : " + Attendance13â€‹)â€‹;
                    replier.reply(NowTime + "ì¼ì ì „ì²´ ìˆœìœ„ 1ë“±! ì¶•í•˜ë“œë¦½ë‹ˆë‹¤. ğŸ¥‡ğŸ¥‡");
    }
      }

        else if(FS.read("/sdcard/ë§ˆì‹œë©œë¡œë´‡ì˜ ì¶œì„/"â€‹ â€‹+â€‹ â€‹NowTimeâ€‹ â€‹+â€‹ â€‹"ì¼ì ì „ì²´ìˆœìœ„.txt")=="11"){
          replierâ€‹.â€‹replyâ€‹(â€‹NowTimeâ€‹ â€‹+â€‹ â€‹"\n"â€‹+â€‹senderâ€‹ â€‹+â€‹"ë‹˜ ì¶œì„ì²´í¬ë¥¼ ì™„ë£Œí•˜ì˜€ìŠµë‹ˆë‹¤. âœ…\nğŸ”° ì „ì²´ ìˆœìœ„ëŠ” "â€‹+â€‹ â€‹read2â€‹ â€‹+â€‹ â€‹"ë“±\nğŸ”° ë°© ìˆœìœ„ëŠ” "â€‹ â€‹+â€‹ â€‹read1â€‹ â€‹+â€‹ â€‹"ë“±ì…ë‹ˆë‹¤."â€‹)â€‹;
          replier.reply(NowTime + "ì¼ì ì „ì²´ ìˆœìœ„ 2ë“±! ì¶•í•˜ë“œë¦½ë‹ˆë‹¤. ğŸ¥ˆğŸ¥ˆ");
          FS.remove("/sdcard/ë§ˆì‹œë©œë¡œë´‡ì˜ ì¶œì„ì²´í¬/ì—°ì†1ë“±ì¶œì„ì" + sender + ".txt");
          FS.remove("/sdcard/ë§ˆì‹œë©œë¡œë´‡ì˜ ì¶œì„/ì—°ì†1ë“±ì¶œì„ì1" + sender + ".txt");}
        else if(FS.read("/sdcard/ë§ˆì‹œë©œë¡œë´‡ì˜ ì¶œì„/"â€‹ â€‹+â€‹ â€‹NowTimeâ€‹ â€‹+â€‹ â€‹"ì¼ì ì „ì²´ìˆœìœ„.txt")=="111"){
          replierâ€‹.â€‹replyâ€‹(â€‹NowTimeâ€‹ â€‹+â€‹ â€‹"\n"â€‹+â€‹senderâ€‹ â€‹+â€‹"ë‹˜ ì¶œì„ì²´í¬ë¥¼ ì™„ë£Œí•˜ì˜€ìŠµë‹ˆë‹¤. âœ…\nğŸ”° ì „ì²´ ìˆœìœ„ëŠ” "â€‹+â€‹ â€‹read2â€‹ â€‹+â€‹ â€‹"ë“±\nğŸ”° ë°© ìˆœìœ„ëŠ” "â€‹ â€‹+â€‹ â€‹read1â€‹ â€‹+â€‹ â€‹"ë“±ì…ë‹ˆë‹¤."â€‹)â€‹;
          replier.reply(NowTime + "ì¼ì ì „ì²´ ìˆœìœ„ 3ë“±! ì¶•í•˜ë“œë¦½ë‹ˆë‹¤. ğŸ¥‰ğŸ¥‰");
          FS.remove("/sdcard/ë§ˆì‹œë©œë¡œë´‡ì˜ ì¶œì„ì²´í¬/ì—°ì†1ë“±ì¶œì„ì" + sender + ".txt");
          FS.remove("/sdcard/ë§ˆì‹œë©œë¡œë´‡ì˜ ì¶œì„/ì—°ì†1ë“±ì¶œì„ì1" + sender + ".txt");}
        else ifâ€‹ â€‹(â€‹msgâ€‹ â€‹==â€‹ â€‹prefixâ€‹ â€‹+â€‹ â€‹"ì¶œì„"â€‹ â€‹||â€‹ â€‹msgâ€‹ â€‹==â€‹ â€‹prefixâ€‹ â€‹+â€‹ â€‹"ã…Šã…Š"â€‹)â€‹ â€‹{ 
          replierâ€‹.â€‹replyâ€‹(â€‹NowTimeâ€‹ â€‹+â€‹ â€‹"\n"â€‹+â€‹senderâ€‹ â€‹+â€‹"ë‹˜ ì¶œì„ì²´í¬ë¥¼ ì™„ë£Œí•˜ì˜€ìŠµë‹ˆë‹¤. âœ…\nğŸ”° ì „ì²´ ìˆœìœ„ëŠ” "â€‹+â€‹ â€‹read2â€‹ â€‹+â€‹ â€‹"ë“±\nğŸ”° ë°© ìˆœìœ„ëŠ” "â€‹ â€‹+â€‹ â€‹read1â€‹ â€‹+â€‹ â€‹"ë“±ì…ë‹ˆë‹¤."â€‹)â€‹;
          FS.remove("/sdcard/ë§ˆì‹œë©œë¡œë´‡ì˜ ì¶œì„ì²´í¬/ì—°ì†1ë“±ì¶œì„ì1" + sender + ".txt");
          FS.remove("/sdcard/ë§ˆì‹œë©œë¡œë´‡ì˜ ì¶œì„/ì—°ì†1ë“±ì¶œì„ì" + sender + ".txt");
}

 â€‹        â€‹}â€‹elseâ€‹ â€‹ifâ€‹ â€‹(â€‹msgâ€‹ â€‹==â€‹ â€‹prefixâ€‹ â€‹+â€‹ â€‹"ì¶œì„"â€‹ â€‹||â€‹ â€‹msgâ€‹ â€‹==â€‹ â€‹prefixâ€‹ â€‹+â€‹ â€‹"ã…Šã…Š"â€‹)â€‹ â€‹{ 

            replierâ€‹.â€‹replyâ€‹(â€‹"ì˜¤ëŠ˜ ì´ë¯¸ í•˜ì‹ ê±° ê°™ìŠµë‹ˆë‹¤ë§Œ?"â€‹)â€‹; 
 â€‹          â€‹} 
 â€‹    â€‹} 
 
  ifâ€‹(â€‹msgâ€‹==â€‹ â€‹prefixâ€‹ â€‹+â€‹ â€‹"ì¶œì„ëª©ë¡ ì „ì²´"â€‹)â€‹{ 
    constâ€‹ Attendance1 â€‹= FSâ€‹.â€‹readâ€‹(â€‹"sdcard/ë§ˆì‹œë©œë¡œë´‡ì˜ ì¶œì„/"â€‹ â€‹+â€‹ â€‹NowTimeâ€‹ â€‹+â€‹ â€‹"ì¼ì ì¶œì„ëª©ë¡"â€‹);
    â€‹replierâ€‹.â€‹replyâ€‹(â€‹"ğ‘¨ğ’•ğ’•ğ’†ğ’ğ’…ğ’‚ğ’ğ’„ğ’† ğ‘³ğ’Šğ’”ğ’•" + Lw + "\n" + Attendance1)â€‹; 
 â€‹   
 â€‹  â€‹} 
  
 â€‹  ifâ€‹(â€‹msgâ€‹==â€‹ â€‹prefixâ€‹ â€‹+â€‹ â€‹"ì¶œì„ëª©ë¡"â€‹)â€‹{ 
    constâ€‹ Attendance2 â€‹= FSâ€‹.â€‹readâ€‹(â€‹"sdcard/ë§ˆì‹œë©œë¡œë´‡ì˜ ì¶œì„/"â€‹ â€‹+â€‹ â€‹NowTimeâ€‹ â€‹+â€‹ â€‹"ì¼ì ì¶œì„ëª©ë¡"â€‹ + room);
    replierâ€‹.â€‹replyâ€‹(â€‹"ğ‘¨ğ’•ğ’•ğ’†ğ’ğ’…ğ’‚ğ’ğ’„ğ’† ğ‘³ğ’Šğ’”ğ’• // ğ‘¹ğ’ğ’ğ’ : " + room + Lw + "\n" + Attendance2)â€‹; 
 â€‹   
 â€‹  â€‹} 
  
 â€‹  â€‹//ì „ì²´ ìˆœìœ„ ì˜¤ë¥˜ ë°©ì§€ 
  
 â€‹  â€‹varâ€‹ â€‹allcheckâ€‹ â€‹=â€‹ â€‹FSâ€‹.â€‹readâ€‹(â€‹"/sdcard/ë§ˆì‹œë©œë¡œë´‡ì˜ ì¶œì„/"â€‹ â€‹+â€‹ â€‹NowTimeâ€‹ â€‹+â€‹ â€‹"ì¼ì ì „ì²´ìˆœìœ„.txt"â€‹)â€‹; 
 â€‹  â€‹ifâ€‹ â€‹(â€‹allcheckâ€‹ â€‹==â€‹ â€‹nullâ€‹)â€‹ â€‹{ 
 â€‹      â€‹FSâ€‹.â€‹writeâ€‹(â€‹"/sdcard/ë§ˆì‹œë©œë¡œë´‡ì˜ ì¶œì„/"â€‹ â€‹+â€‹ â€‹NowTimeâ€‹ â€‹+â€‹ â€‹"ì¼ì ì „ì²´ìˆœìœ„.txt"â€‹,â€‹ â€‹""â€‹)â€‹; 
  
 â€‹    â€‹}â€‹  
 â€‹   
  


 â€‹  â€‹//ë¦¬ìŠ¤í°ìŠ¤ ì¢…ë£Œ ( ê±´ë“¤ì§€ ë§ˆì„¸ìš” ) 
  
 â€‹  â€‹}
